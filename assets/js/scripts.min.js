var Lavish={init:function(){this.slider(),this.contactForm(),this.svgChecks(),this.mobileMenu(),this.smoothScroll(),this.mobileMenuMargin()},elements:{$nav:$("nav"),$navList:$("nav").find("ul")},svgDividers:{0:{name:"Mirror",beenDrawn:!1},1:{name:"Scissors",beenDrawn:!1},2:{name:"Shampoo",beenDrawn:!1}},mobileMenu:function(){$("#menuToggle").on("click",function(e){e.preventDefault(),this.elements.$nav.addClass("is-open")}.bind(this)),$("#menuClose").on("click",function(e){this.elements.$nav.removeClass("is-open")}.bind(this)),this.elements.$navList.find("a").on("click",function(e){this.elements.$nav.removeClass("is-open")}.bind(this))},mobileMenuMargin:function(){if($(window).outerWidth()<768){var e=($(window).outerHeight()-this.elements.$navList.outerHeight())/2;this.elements.$navList.css("margin-top",e)}else this.elements.$navList.css("margin-top","")},slider:function(){$("#testimonialSlider").slick({infinite:!0,slidesToShow:3,slidesToScroll:3,prevArrow:$("#slickPrev"),nextArrow:$("#slickNext"),responsive:[{breakpoint:992,settings:{slidesToShow:2,slidesToScroll:2}},{breakpoint:768,settings:{slidesToShow:1,slidesToScroll:1}}]})},contactForm:function(){$("#contactForm").on("submit",function(e){e.preventDefault();var t=$("#formName"),i=$("#formEmail"),s=$("#formPhone"),a=$("#formMessage"),n=$("#statusMessages");n.removeClass("failure success"),""===a.val()?n.html("A message is required.").addClass("form-failure"):$.ajax({url:"//formspree.io/alex@macarthur.me",method:"POST",data:{name:t.val(),email:i.val(),phone:s.val(),message:a.val()},dataType:"json"}).done(function(e){t.val(""),i.val(""),s.val(""),a.val(""),n.html("Your message was successfully sent! Thanks.").removeClass("form-failure").addClass("form-success")}).fail(function(e){n.html("Sorry, an something's messed up. Refresh the page to try again, or just send an email to alex@macarthur.me.").removeClass("form-success").addClass("form-failure")})})},_isVisible:function(e){var t=$(window),i={top:t.scrollTop(),left:t.scrollLeft()};i.right=i.left+t.width(),i.bottom=i.top+t.height();var s=e.outerHeight(),a=e.outerWidth();if(!a||!s)return!1;var n=e.offset();n.right=n.left+a,n.bottom=n.top+s;var o=!(i.right<n.left||i.left>n.right||i.bottom<n.top||i.top>n.bottom);if(!o)return!1;var r={top:Math.min(1,(n.bottom-i.top)/s),bottom:Math.min(1,(i.bottom-n.top)/s),left:Math.min(1,(n.right-i.left)/a),right:Math.min(1,(i.right-n.left)/a)};return r.left*r.right>=1&&r.top*r.bottom>=1},svgChecks:function(){dividers=$(".Section--divider");for(var e=0;e<dividers.length;e++)$divider=$(dividers[e]),Lavish._isVisible($divider)&&$divider.addClass("is-visible")},smoothScroll:function(){$("a[href*='#']:not([href='#'])").on("click",function(){if(location.pathname.replace(/^\//,"")==this.pathname.replace(/^\//,"")&&location.hostname==this.hostname){var e=$(this.hash);if(e=e.length?e:$("[name="+this.hash.slice(1)+"]"),e.length)return $("html,body").animate({scrollTop:e.offset().top-55},500,function(){history.pushState("",document.title,window.location.pathname)}),!1}})}};$(document).ready(function(){Lavish.init(),$(window).scroll(function(e){Lavish.svgChecks(),Lavish.mobileMenuMargin()})});var Hours={clientId:"122433030124-1djhacg129qakh5021jlk0u0anipkls4.apps.googleusercontent.com",apiKey:"AIzaSyDcSD_2cks7H1ybobhl5ac_sJxgVmk31OA",calendarIDHours:"b4gv0ttqhjojjuioopc9n9jr18@group.calendar.google.com",calendarIDServiceSpecials:"vj9gu8ijet2fcgbll94de6gd6k@group.calendar.google.com",calendarIDProductSpecials:"pkt69je4oqfn0orvn3sblnbtgg@group.calendar.google.com",userTimeZone:"Chicago",scopes:"https://www.googleapis.com/auth/calendar",handleClientLoad:function(){gapi.client.setApiKey(this.apiKey),gapi.auth.authorize({client_id:this.clientId,scope:this.scopes,immediate:!0},this.handleAuthResult)},handleAuthResult:function(e){e&&Hours.makeAPICall()},makeAPICall:function(){var e=new Date,t=function(){var t=new Date(e);return t.setDate(t.getDate()-t.getDay()),t}(),i=function(){var t=new Date(e.getTime());return t.setDate(e.getDate()+(13-e.getDay())%7),t}();gapi.client.load("calendar","v3",function(){var e=$("#productSpecials"),s=$("#serviceSpecials"),a=e.find("ul"),n=s.find("ul"),o=new Date;o.setHours(0,0,0,0);var r=new Date;r.setHours(23,59,59,999);var l=gapi.client.calendar.events.list({calendarId:Hours.calendarIDHours,timeZone:Hours.userTimeZone,singleEvents:!0,timeMin:t.toISOString(),timeMax:i.toISOString(),maxResults:20,orderBy:"startTime"});l.execute(function(e){var t=$("#hoursList");t.html("");for(var i=new Date,s=new Date(i.getUTCFullYear(),i.getUTCMonth(),i.getUTCDate(),i.getUTCHours(),i.getUTCMinutes(),i.getUTCSeconds()),a=i.getDay(),n="",o=0;o<e.items.length;o++){var r=new Date(e.items[o].start.dateTime),l=new Date(e.items[o].end.dateTime),c=Hours.getDayString(r.toString().split(" ")[0]),u=n===c;n=c;var m=r.getHours(),d=m>=12?"pm":"am";m=m>12?m-12:m,m=0===r.getMinutes()?m:m+":"+r.getMinutes();var h=l.getHours(),g=h>=12?"pm":"am";if(h=h>12?h-12:h,h=0===l.getMinutes()?h:h+":"+l.getMinutes(),u?t.find("li").last().append(", "+m+d+" - "+h+g):t.append("<li><strong>"+c+":</strong>"+m+d+" - "+h+g+"</li>"),r.getDay()===a){var v=$("#topBarHours"),f=s.getTimezoneOffset()/60,p=s.setHours(s.getHours()-f),S=Math.floor(r),w=Math.floor(l);$("header").addClass("is-open"),$(".TopBar").addClass("is-open"),p>S&&w>p?v.html("Open 'til <span>"+h+g+"</span>."):v.html("Closed Now &mdash; <span>View Hours</span>")}}});var c=gapi.client.calendar.events.list({calendarId:Hours.calendarIDProductSpecials,timeZone:Hours.userTimeZone,singleEvents:!0,timeMin:o.toISOString(),timeMax:r.toISOString(),maxResults:20,orderBy:"startTime"});c.execute(function(t){for(var i=0;i<t.items.length;i++)a.append("<li>"+t.items[i].summary+"</li>");t.items.length&&e.addClass("is-open")});var u=gapi.client.calendar.events.list({calendarId:Hours.calendarIDServiceSpecials,timeZone:Hours.userTimeZone,singleEvents:!0,timeMin:o.toISOString(),timeMax:r.toISOString(),maxResults:20,orderBy:"startTime"});u.execute(function(e){for(var t=0;t<e.items.length;t++)n.append("<li>"+e.items[t].summary+"</li>");e.items.length&&s.addClass("is-open")})})},getDayString:function(e){switch(e){case"Sun":return"Sunday";case"Mon":return"Monday";case"Tue":return"Tuesday";case"Wed":return"Wednesday";case"Thu":return"Thursday";case"Fri":return"Friday";case"Sat":return"Saturday"}}},initHours=function(){Hours.handleClientLoad()};